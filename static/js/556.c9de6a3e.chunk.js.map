{"version":3,"file":"static/js/556.c9de6a3e.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails/movieDetails.module.css?c148","hooks/useFetch.js","pages/MovieDetails/MovieDetails.jsx","webpack://react-homework-template/./src/shared/GoBackBtn/goBackBtn.module.css?499e","shared/GoBackBtn/GoBackBtn.jsx","shared/api/movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"movieDetails_list__ntNZR\",\"link\":\"movieDetails_link__Rx+J2\",\"wrap\":\"movieDetails_wrap__4Gv2J\",\"infoWrap\":\"movieDetails_infoWrap__fFKMq\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nconst useFetch = ({ fetchData, dependencies, isFetch }) => {\n  const [movie, setMovie] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const params = useParams();\n  const { id } = params;\n\n  useEffect(() => {\n    if (!id) {\n      return;\n    }\n\n    const fetchMovie = async () => {\n      try {\n        setIsLoading(true);\n        const result = await fetchData(...dependencies);\n        setMovie(result);\n        setIsLoading(false);\n      } catch (error) {\n        setError(error);\n      }\n    };\n    if (isFetch) {\n      return;\n    }\n    fetchMovie();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [...dependencies]);\n\n  if (isFetch) {\n    return;\n  }\n\n  return { movie, setMovie, isLoading, setIsLoading, error, setError };\n};\n\nexport default useFetch;\n\nuseFetch.defaultProps = {\n  isFetch: () => {},\n};\n","import css from '../MovieDetails/movieDetails.module.css';\nimport { NavLink, useParams, useLocation, Outlet } from 'react-router-dom';\nimport { getMovieDetails } from 'shared/api/movies';\nimport useFetch from 'hooks/useFetch';\n\nimport { GoBackBtn } from 'shared/GoBackBtn/GoBackBtn';\n\nconst imgURL = 'https://image.tmdb.org/t/p/w500';\n\nconst MovieDetails = () => {\n  const params = useParams();\n  const { id } = params;\n\n  const location = useLocation();\n  const from = location.state?.from || '/';\n\n  const { movie, isLoading, error } = useFetch({\n    fetchData: getMovieDetails,\n    dependencies: [id],\n  });\n\n  const { title, overview, poster_path, genres, vote_average } = movie;\n\n  return (\n    <>\n      <GoBackBtn />\n      {movie && (\n        <>\n          <div className={css.wrap}>\n            {poster_path && (\n              <img src={`${imgURL}${poster_path}`} alt=\"movie poster\" />\n            )}\n            {!poster_path && (\n              <img\n                src=\"https://www.prokerala.com/movies/assets/img/no-poster-available.jpg\"\n                alt=\"no movie poster!\"\n              />\n            )}\n            <div className={css.infoWrap}>\n              <h2>{title}</h2>\n              <p>User score: {Math.floor(vote_average * 10)}%</p>\n              <h2>Overview</h2>\n              <p>{overview}</p>\n              <h2>Genres</h2>\n              <p>{genres && genres.map(genre => genre.name).join(', ')}</p>\n            </div>\n          </div>\n          <h2>Additional Information:</h2>\n          <ul className={css.list}>\n            <li>\n              <NavLink className={css.link} state={{ from }} to=\"cast\">\n                Cast\n              </NavLink>\n            </li>\n            <li>\n              <NavLink className={css.link} state={{ from }} to=\"reviews\">\n                Reviews\n              </NavLink>\n            </li>\n          </ul>\n          <Outlet />\n        </>\n      )}\n      {isLoading && <p>...Loading...</p>}\n      {error && <p>Error!</p>}\n    </>\n  );\n};\n\nexport default MovieDetails;\n","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"goBackBtn_btn__PQHtn\"};","import css from '../GoBackBtn/goBackBtn.module.css';\nimport { useNavigate, useLocation } from 'react-router-dom';\n\nexport const GoBackBtn = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const from = location.state?.from || '/';\n\n  const goBack = () => navigate(from);\n\n  return (\n    <button className={css.btn} onClick={goBack}>\n      Back\n    </button>\n  );\n};\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst KEY = 'd0cbba0e8b5863a2012bf39c965ec970';\n\nexport const getTrendingMovies = async () => {\n  const response = await axios.get(`trending/all/day?api_key=${KEY}`);\n  return response.data;\n};\n\nexport const getMovieDetails = async id => {\n  const response = await axios.get(`movie/${id}?api_key=${KEY}&language=en-US`);\n  return response.data;\n};\n\nexport const getMovieReviews = async id => {\n  const response = await axios.get(\n    `movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`\n  );\n  return response.data;\n};\n\nexport const getMovieCast = async id => {\n  const response = await axios.get(\n    `movie/${id}/credits?api_key=${KEY}&language=en-US`\n  );\n  return response.data;\n};\n\nexport const searchMovie = async q => {\n  const response = await axios.get(\n    `search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${q}`\n  );\n  return response.data;\n};\n"],"names":["useFetch","fetchData","dependencies","isFetch","useState","movie","setMovie","isLoading","setIsLoading","error","setError","id","useParams","useEffect","fetchMovie","result","defaultProps","from","useLocation","state","getMovieDetails","title","overview","poster_path","genres","vote_average","GoBackBtn","className","css","src","alt","Math","floor","map","genre","name","join","to","navigate","useNavigate","onClick","axios","KEY","getTrendingMovies","response","data","getMovieReviews","getMovieCast","searchMovie","q"],"sourceRoot":""}